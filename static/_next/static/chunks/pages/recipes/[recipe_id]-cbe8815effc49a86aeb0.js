_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{"2vyh":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n("nKUr"),c=(n("g4pe"),n("d5us")),i=n("vRNQ"),a=n.n(i),s=(n("q1tI"),n("7KBc")),o=n.n(s),d=n("VtrM"),l=n("O8tQ"),u=n("YFqc"),j=n.n(u);function p(e){var t,n,c=e.directions.split("\n").map((function(e,t){return Object(r.jsx)("li",{children:e},t)}));!function(){var n=Object(d.a)("/api/".concat(e.recipe_id,"/tags"),(function(e){return fetch(e).then((function(e){return e.json()}))}));n.error||n.data&&(t=n.data.map((function(e,t){return Object(r.jsx)(j.a,{href:"/tags/".concat(e.tag_id),children:Object(r.jsxs)("a",{children:[" ",e.name.toUpperCase()," "]})},t)})))}(),function(){var t=Object(d.a)("/api/".concat(e.recipe_id,"/ingredients"),(function(e){return fetch(e).then((function(e){return e.json()}))}));t.error||t.data&&(n=t.data.map((function(e,t){return Object(r.jsx)("li",{children:e.detailed_ingredient},t)})))}();var i={backgroundImage:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"550px"};return Object(r.jsx)(o.a,{right:!0,children:Object(r.jsxs)("div",{className:a.a["my-recipe-flex"],style:i,children:[Object(r.jsxs)("div",{id:a.a["column-left"],children:[Object(r.jsx)(l.a,{recipeId:e.recipe_id}),Object(r.jsx)("h5",{className:a.a["card-recipe-title"],children:Object(r.jsx)("span",{children:e.title})}),Object(r.jsx)("p",{className:a.a.text_small,children:Object(r.jsxs)("span",{children:["Serves: ",e.serves]})}),Object(r.jsx)("p",{className:a.a.text_small,children:Object(r.jsx)("span",{children:t})})]}),Object(r.jsxs)("div",{id:a.a["column-middle"],children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:"Ingredients:"})}),Object(r.jsx)("div",{className:a.a.scrollable,children:Object(r.jsx)("ul",{className:"styles['text_small']",children:n})})]}),Object(r.jsxs)("div",{id:a.a["column-right"],children:[Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:"Directions:"})}),Object(r.jsx)("div",{className:a.a.scrollable,children:Object(r.jsx)("ol",{className:a.a.text_small,children:c})})]})]})})}var b=n("20a2"),f=n("Vvt1"),h=n.n(f),m=h()((function(){return n.e(7).then(n.bind(null,"7vrA"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["7vrA"]},modules:["react-bootstrap/Container"]}}),O=h()((function(){return n.e(8).then(n.bind(null,"3Z9Z"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["3Z9Z"]},modules:["react-bootstrap/Row"]}}),x=h()((function(){return n.e(0).then(n.bind(null,"JI6e"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JI6e"]},modules:["react-bootstrap/Col"]}});h()((function(){return n.e(10).then(n.bind(null,"cWnB"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["cWnB"]},modules:["react-bootstrap/Button"]}});function v(e){return Object(r.jsx)("section",{className:a.a["rachel-tile"],children:Object(r.jsx)(o.a,{children:Object(r.jsx)(m,{className:"my-5 py-5 px-5 h-75 w-100 bg-light",children:Object(r.jsx)(O,{className:"h-75 pt-3 px-5 m-3 rounded",children:Object(r.jsx)(x,{className:"col-12",align:"center",children:Object(r.jsx)(p,{recipe_id:e.mySingleRecipeData.recipe_id,title:e.mySingleRecipeData.title,directions:e.mySingleRecipeData.directions,ingredients:e.mySingleRecipeData.ingredients,img:e.mySingleRecipeData.img,tags:e.mySingleRecipeData.tags,cookTime:e.mySingleRecipeData.cookTime,prepTime:e.mySingleRecipeData.prepTime,serves:e.mySingleRecipeData.serves})})})})})})}function g(){var e=Object(b.useRouter)().query.recipe_id,t=Object(d.a)("/api/recipes/".concat(e),(function(e){return fetch(e).then((function(e){return e.json()}))})),n=null;return t.error?n=Object(r.jsx)("div",{children:"failed to load"}):t.data||(n=Object(r.jsx)("div",{children:"loading..."})),Object(r.jsxs)("div",{id:"page-container",children:[Object(r.jsx)(c.b,{}),Object(r.jsx)(c.c,{}),n||Object(r.jsx)(v,{mySingleRecipeData:t.data}),Object(r.jsx)(c.a,{})]})}},GmAA:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes/[recipe_id]",function(){return n("2vyh")}])},O8tQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("nKUr"),c=n("q1tI"),i=n("VtrM"),a=n("YFqc"),s=n.n(a),o=n("dltQ"),d=n.n(o),l=n("vRNQ"),u=n.n(l),j=n("IP2g"),p=n("wHSu");function b(e){var t=Object(c.useState)(null),n=t[0],i=t[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("user");e&&i(JSON.parse(e))}),[]),null===n?Object(r.jsx)("p",{className:u.a.text_small,children:Object(r.jsx)("span",{children:Object(r.jsx)(s.a,{href:"/login",children:Object(r.jsx)("a",{children:"Log in to favorite this recipe!"})})})}):Object(r.jsx)(f,{userId:n.user_id,recipeId:e.recipeId})}function f(e){var t,n=Object(i.a)("/api/users/".concat(e.userId,"/recipes/").concat(e.recipeId),(function(e){return fetch(e).then((function(e){return e.json()}))})),c=n.data;return n.error?Object(r.jsx)("div",{children:"failed to load"}):void 0===c?Object(r.jsx)("div",{children:"loading..."}):(t=c,Object(r.jsx)(h,{favBool:t,userId:e.userId,recipeId:e.recipeId}))}function h(e){var t=Object(r.jsx)(j.a,{icon:p.c}),n=Object(r.jsx)(j.a,{icon:p.d}),i=Object(c.useState)(e.favBool),a=i[0],s=i[1];return Object(r.jsx)(d.a,{spy:a,children:Object(r.jsx)("button",{className:u.a["favorite-button"],onClick:function(){return t=e.recipeId,void s((function(n){return 1==n&&fetch("/api/users/".concat(e.userId,"/recipes/").concat(t,"/remove"),{method:"POST"}).then(console.log("I clicked unfavorite. This was a favorited recipe, but now it isnt!")),0==n&&fetch("/api/users/".concat(e.userId,"/recipes/").concat(t,"/add"),{method:"POST"}).then(console.log("I clicked favorite. This was not a favorited recipe. Now it is!")),!n}));var t},children:!0===a?t:n},e.recipeId)})}},dltQ:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function c(){return p||(p=(0,l.animation)(j))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.defaults,t=e.children,n=(e.out,e.timeout),i=e.duration,a=void 0===i?l.defaults.duration:i,s=e.delay,o=void 0===s?l.defaults.delay:s,u=e.count,j=void 0===u?l.defaults.count:u,p=e.forever,b=r(e,["children","out","timeout","duration","delay","count","forever"]),f={make:c,duration:void 0===n?a:n,delay:o,forever:p,count:j,style:{animationFillMode:"both"}};return(0,d.default)(b,f,!1,t,!0)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("17x9"),o=n("eH+L"),d=(a=o)&&a.__esModule?a:{default:a},l=n("ar19"),u={duration:s.number,timeout:s.number,delay:s.number,count:s.number,forever:s.bool},j="\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%, 20% {\n    transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);\n  }\n\n  30%, 50%, 70%, 90% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\n  }\n\n  40%, 60%, 80% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n}\n",p=!1;i.propTypes=u,t.default=i,e.exports=t.default}},[["GmAA",2,1,5,3,4,6,9]]]);