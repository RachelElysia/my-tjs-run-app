_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"2vyh":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var c=n("nKUr"),r=(n("g4pe"),n("vRNQ")),i=n.n(r),a=n("d5us"),s=n("7KBc"),o=n.n(s),d=(n("q1tI"),n("VtrM")),l=n("O8tQ"),u=n("YFqc"),j=n.n(u);function p(e){var t,n,r=e.directions.split("\n").map((function(e,t){return Object(c.jsx)("li",{children:e},e)}));!function(){var n=Object(d.a)("/api/".concat(e.recipe_id,"/tags"),(function(e){return fetch(e).then((function(e){return e.json()}))}));n.error||n.data&&(t=n.data.map((function(e){return Object(c.jsx)(j.a,{href:"/tags/".concat(e.tag_id),children:Object(c.jsxs)("a",{children:[" ",e.name.toUpperCase()," "]})})})))}(),function(){var t=Object(d.a)("/api/".concat(e.recipe_id,"/ingredients"),(function(e){return fetch(e).then((function(e){return e.json()}))}));t.error||t.data&&(n=t.data.map((function(e,t){return Object(c.jsx)("li",{children:e.detailed_ingredient},t)})))}();var a={backgroundImage:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"550px"};return Object(c.jsx)(o.a,{right:!0,children:Object(c.jsxs)("div",{className:i.a["my-recipe-flex"],style:a,children:[Object(c.jsxs)("div",{id:i.a["column-left"],children:[Object(c.jsx)(l.a,{recipeId:e.recipe_id}),Object(c.jsx)("h5",{className:i.a["card-recipe-title"],children:Object(c.jsx)("span",{children:e.title})}),Object(c.jsx)("p",{className:i.a.text_small,children:Object(c.jsxs)("span",{children:["Serves: ",e.serves]})}),Object(c.jsx)("p",{className:i.a.text_small,children:Object(c.jsx)("span",{children:t})})]}),Object(c.jsxs)("div",{id:i.a["column-middle"],children:[Object(c.jsx)("p",{children:Object(c.jsx)("span",{children:"Ingredients:"})}),Object(c.jsx)("div",{className:i.a.scrollable,children:Object(c.jsx)("ul",{className:"styles['text_small']",children:n})})]}),Object(c.jsxs)("div",{id:i.a["column-right"],children:[Object(c.jsx)("p",{children:Object(c.jsx)("span",{children:"Directions:"})}),Object(c.jsx)("div",{className:i.a.scrollable,children:Object(c.jsx)("ol",{className:i.a.text_small,children:r})})]})]})})}var f=n("20a2");function b(e){return Object(c.jsx)(o.a,{children:Object(c.jsx)("div",{className:i.a["flex-container"],children:Object(c.jsx)(p,{recipe_id:e.mySingleRecipeData.recipe_id,title:e.mySingleRecipeData.title,directions:e.mySingleRecipeData.directions,ingredients:e.mySingleRecipeData.ingredients,img:e.mySingleRecipeData.img,tags:e.mySingleRecipeData.tags,cookTime:e.mySingleRecipeData.cookTime,prepTime:e.mySingleRecipeData.prepTime,serves:e.mySingleRecipeData.serves})})})}function h(e){var t=Object(f.useRouter)().query.recipe_id,n=Object(d.a)("/api/recipes/".concat(t),(function(e){return fetch(e).then((function(e){return e.json()}))})),r=null;return n.error?r=Object(c.jsx)("div",{children:"failed to load"}):n.data||(r=Object(c.jsx)("div",{children:"loading..."})),Object(c.jsxs)("div",{id:"page-container",children:[Object(c.jsx)(a.b,{}),Object(c.jsx)(a.c,{}),r||Object(c.jsx)(b,{mySingleRecipeData:n.data}),Object(c.jsx)(a.a,{})]})}},GmAA:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes/[recipe_id]",function(){return n("2vyh")}])},O8tQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var c=n("nKUr"),r=n("q1tI"),i=n("VtrM"),a=n("YFqc"),s=n.n(a),o=n("dltQ"),d=n.n(o),l=n("vRNQ"),u=n.n(l),j=n("IP2g"),p=n("wHSu");function f(e){var t=Object(r.useState)(null),n=t[0],i=t[1];return Object(r.useEffect)((function(){var e=localStorage.getItem("user");e&&i(JSON.parse(e))}),[]),null===n?Object(c.jsx)("p",{className:u.a.text_small,children:Object(c.jsx)("span",{children:Object(c.jsx)(s.a,{href:"/login",children:Object(c.jsx)("a",{children:"Log in to favorite this recipe!"})})})}):Object(c.jsx)(b,{userId:n.user_id,recipeId:e.recipeId})}function b(e){var t,n=Object(i.a)("/api/users/".concat(e.userId,"/recipes/").concat(e.recipeId),(function(e){return fetch(e).then((function(e){return e.json()}))})),r=n.data;return n.error?Object(c.jsx)("div",{children:"failed to load"}):void 0===r?Object(c.jsx)("div",{children:"loading..."}):(t=r,Object(c.jsx)(h,{favBool:t,userId:e.userId,recipeId:e.recipeId}))}function h(e){var t=Object(c.jsx)(j.a,{icon:p.c}),n=Object(c.jsx)(j.a,{icon:p.d}),i=Object(r.useState)(e.favBool),a=i[0],s=i[1];return Object(c.jsx)(d.a,{spy:a,children:Object(c.jsx)("button",{className:u.a["favorite-button"],onClick:function(){return t=e.recipeId,void s((function(n){return 1==n&&fetch("/api/users/".concat(e.userId,"/recipes/").concat(t,"/remove"),{method:"POST"}).then(console.log("I clicked unfavorite. This was a favorited recipe, but now it isnt!")),0==n&&fetch("/api/users/".concat(e.userId,"/recipes/").concat(t,"/add"),{method:"POST"}).then(console.log("I clicked favorite. This was not a favorited recipe. Now it is!")),!n}));var t},children:!0===a?t:n},e.recipeId)})}},dltQ:function(e,t,n){"use strict";function c(e,t){var n={};for(var c in e)t.indexOf(c)>=0||Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n}function r(){return p||(p=(0,l.animation)(j))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.defaults,t=e.children,n=(e.out,e.timeout),i=e.duration,a=void 0===i?l.defaults.duration:i,s=e.delay,o=void 0===s?l.defaults.delay:s,u=e.count,j=void 0===u?l.defaults.count:u,p=e.forever,f=c(e,["children","out","timeout","duration","delay","count","forever"]),b={make:r,duration:void 0===n?a:n,delay:o,forever:p,count:j,style:{animationFillMode:"both"}};return(0,d.default)(f,b,!1,t,!0)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n("17x9"),o=n("eH+L"),d=(a=o)&&a.__esModule?a:{default:a},l=n("ar19"),u={duration:s.number,timeout:s.number,delay:s.number,count:s.number,forever:s.bool},j="\n  from {\n    transform: scale3d(1, 1, 1);\n  }\n\n  10%, 20% {\n    transform: scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg);\n  }\n\n  30%, 50%, 70%, 90% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg);\n  }\n\n  40%, 60%, 80% {\n    transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg);\n  }\n\n  to {\n    transform: scale3d(1, 1, 1);\n}\n",p=!1;i.propTypes=u,t.default=i,e.exports=t.default}},[["GmAA",2,1,4,3,5,6,7]]]);