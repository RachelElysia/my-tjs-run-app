_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[16],{O2ls:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f})),n.d(t,"SignInUpContainer",(function(){return g}));var r=n("nKUr"),s=(n("g4pe"),n("q1tI")),c=n("20a2"),o=n("d5us"),a=n("Vvt1"),l=n.n(a),i=n("vRNQ"),d=n.n(i),u=n("7KBc"),j=n.n(u),b=l()((function(){return n.e(7).then(n.bind(null,"7vrA"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["7vrA"]},modules:["react-bootstrap/Container"]}}),h=l()((function(){return n.e(8).then(n.bind(null,"3Z9Z"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["3Z9Z"]},modules:["react-bootstrap/Row"]}}),p=l()((function(){return n.e(0).then(n.bind(null,"JI6e"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JI6e"]},modules:["react-bootstrap/Col"]}}),O=l()((function(){return n.e(10).then(n.bind(null,"cWnB"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["cWnB"]},modules:["react-bootstrap/Button"]}});function m(){var e=Object(c.useRouter)(),t=Object(s.useState)({user:{},loggedIn:!1}),n=(t[0],t[1]);return Object(r.jsxs)(p,{className:"col-12 col-md-8 p-4 bg-light border-right rounded-left",children:[Object(r.jsx)("h2",{children:"Create your Account"}),Object(r.jsxs)("h3",{children:["Love Trader Joe's? Start favoriting recipes and populate your TJ's grocery list! ",Object(r.jsx)("i",{children:"Free forever!"})]}),Object(r.jsx)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.target);fetch("/api/users",{method:"POST",body:r}).then((function(t){alert("You created an account! Build your favorite recipes to easily view your grocery list!"),t.json().then((function(t){console.log(JSON.stringify(t.user)),console.log(t.user),localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("loggedIn",!0),n({loggedIn:!0,user:t.user}),e.back()}))}))},children:Object(r.jsx)("table",{children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"fname",children:"First Name:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"fname",id:"fname",placeholder:"Joe",required:!0,minLength:"2",maxLength:"40",autoFocus:!0})]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"lname",children:"Last Name:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"lname",id:"lname",placeholder:"Coulombe",minLength:"2",maxLength:"40",required:!0})]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"phone",children:"10-digit Phone Number:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"phone",id:"phone",placeholder:"4158631292",pattern:"[0-9]{10}",maxLength:"10",required:!0})]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"fname",children:"Password:"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",required:!0})]})]}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)(O,{type:"submit",className:d.a["submit-button"],children:"Create"})})})]})})})]})}function x(){var e=Object(c.useRouter)(),t=Object(s.useState)({user:{},loggedIn:!1}),n=(t[0],t[1]);return Object(r.jsxs)(p,{className:"col-12 col-md-4 p-4 bg-light rounded-right",children:[Object(r.jsx)("h2",{children:"Log In"}),Object(r.jsx)("h3",{children:"See your recipes and grocery list!"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.target);fetch("/api/userlogin",{method:"POST",body:r}).then((function(t){console.log(t),200===t.status?t.json().then((function(t){localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("loggedIn",!0),n({loggedIn:!0,user:t.user}),alert("Check out your favorite recipes ".concat(t.user.fname,"!")),e.back()})):alert("Login Failed. Phone number and/or password is incorrect.")}))},children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{htmlFor:"phonein",children:"Phone Number:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"phonein",id:"phonein",placeholder:"4158631292",maxLength:"10",autoComplete:"off"})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{htmlFor:"passwordin",children:"Password:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",name:"passwordin",id:"passwordin",placeholder:"Your password"})]}),Object(r.jsx)("p",{children:Object(r.jsx)(O,{type:"submit",children:"Log In"})})]})]})}function g(){return Object(r.jsx)("section",{className:d.a["rachel-tile"],children:Object(r.jsx)(b,{className:"my-4 py-4 h-75 w-75",children:Object(r.jsxs)(h,{className:"w-100 h-75 pt-5 rounded",children:[Object(r.jsx)(m,{}),Object(r.jsx)(x,{})]})})})}function f(){return Object(r.jsxs)("div",{id:"page-container",children:[Object(r.jsx)(o.b,{}),Object(r.jsx)(o.c,{}),Object(r.jsx)(j.a,{children:Object(r.jsx)(g,{})}),Object(r.jsx)(o.a,{})]})}},u6Hu:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n("O2ls")}])}},[["u6Hu",2,1,5,3,4,6]]]);