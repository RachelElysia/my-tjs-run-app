_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[14],{O2ls:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g})),n.d(t,"SignInUpContainer",(function(){return f}));var r=n("nKUr"),c=(n("g4pe"),n("q1tI")),s=n("20a2"),a=n("d5us"),o=n("Vvt1"),l=n.n(o),i=n("vRNQ"),d=n.n(i),j=n("7KBc"),b=n.n(j),u=l()((function(){return n.e(7).then(n.bind(null,"7vrA"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["7vrA"]},modules:["react-bootstrap/Container"]}}),h=l()((function(){return n.e(8).then(n.bind(null,"3Z9Z"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["3Z9Z"]},modules:["react-bootstrap/Row"]}}),m=l()((function(){return n.e(0).then(n.bind(null,"JI6e"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JI6e"]},modules:["react-bootstrap/Col"]}}),p=l()((function(){return n.e(10).then(n.bind(null,"cWnB"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["cWnB"]},modules:["react-bootstrap/Button"]}});function O(){var e=Object(s.useRouter)(),t=Object(c.useState)({user:{},loggedIn:!1}),n=(t[0],t[1]);return Object(r.jsxs)(m,{className:"col-12 col-md-8 p-4 bg-light border-right rounded-left",children:[Object(r.jsx)("h2",{children:"Create your Account"}),Object(r.jsxs)("h3",{children:["Love Trader Joe's? Start favoriting recipes and populate your TJ's grocery list! ",Object(r.jsx)("i",{children:"Free forever!"})]}),Object(r.jsx)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.target);fetch("/api/users",{method:"POST",body:r}).then((function(t){alert("You created an account! Build your favorite recipes to easily view your grocery list!"),t.json().then((function(t){console.log(JSON.stringify(t.user)),console.log(t.user),localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("loggedIn",!0),n({loggedIn:!0,user:t.user}),e.back()}))}))},children:Object(r.jsx)("table",{children:Object(r.jsxs)("tbody",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"fname",children:"First Name:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"fname",id:"fname",placeholder:"Joe",required:!0,minLength:"2",maxLength:"40",autoFocus:!0})]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"lname",children:"Last Name:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"text",name:"lname",id:"lname",placeholder:"Coulombe",minLength:"2",maxLength:"40",required:!0})]})]}),Object(r.jsxs)("tr",{children:[Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"phone",children:"10-digit Phone Number:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"phone",id:"phone",placeholder:"4158631292",pattern:"[0-9]{10}",maxLength:"10",required:!0})]}),Object(r.jsxs)("td",{children:[Object(r.jsx)("label",{htmlFor:"fname",children:"Password:"}),Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",required:!0})]})]}),Object(r.jsx)("tr",{children:Object(r.jsx)("td",{children:Object(r.jsx)(p,{type:"submit",className:d.a["submit-button"],children:"Create"})})})]})})})]})}function x(){var e=Object(s.useRouter)(),t=Object(c.useState)({user:{},loggedIn:!1}),n=(t[0],t[1]);return Object(r.jsxs)(m,{className:"col-12 col-md-4 p-4 bg-light rounded-right",children:[Object(r.jsx)("h2",{children:"Log In"}),Object(r.jsx)("h3",{children:"See your recipes and grocery list!"}),Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault();var r=new FormData(t.target);fetch("/api/userlogin",{method:"POST",body:r}).then((function(t){console.log(t),200===t.status?t.json().then((function(t){localStorage.setItem("user",JSON.stringify(t.user)),localStorage.setItem("loggedIn",!0),n({loggedIn:!0,user:t.user}),alert("Check out your favorite recipes ".concat(t.user.fname,"!")),e.back()})):alert("Login Failed. Phone number and/or password is incorrect.")}))},children:[Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{htmlFor:"phonein",children:"Phone Number:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"tel",name:"phonein",id:"phonein",placeholder:"4158631292",maxLength:"10",autoComplete:"off"})]}),Object(r.jsxs)("p",{children:[Object(r.jsx)("label",{htmlFor:"passwordin",children:"Password:"})," ",Object(r.jsx)("br",{}),Object(r.jsx)("input",{type:"password",name:"passwordin",id:"passwordin",placeholder:"Your password"})]}),Object(r.jsx)("p",{children:Object(r.jsx)(p,{type:"submit",children:"Log In"})})]})]})}function f(){return Object(r.jsx)("section",{className:d.a["rachel-tile"],children:Object(r.jsx)(u,{className:"my-4 py-4 h-75 w-75",children:Object(r.jsxs)(h,{className:"w-100 h-75 pt-5 rounded",children:[Object(r.jsx)(O,{}),Object(r.jsx)(x,{})]})})})}function g(){return Object(r.jsxs)("div",{id:"page-container",children:[Object(r.jsx)(a.b,{}),Object(r.jsx)(a.c,{}),Object(r.jsx)(b.a,{children:Object(r.jsx)(f,{})}),Object(r.jsx)(a.a,{})]})}},cdae:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n("nKUr"),c=(n("g4pe"),n("q1tI")),s=n("20a2"),a=n("d5us"),o=n("O2ls"),l=n("Vvt1"),i=n.n(l),d=n("vRNQ"),j=n.n(d),b=n("7KBc"),u=n.n(b),h=i()((function(){return n.e(7).then(n.bind(null,"7vrA"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["7vrA"]},modules:["react-bootstrap/Container"]}}),m=i()((function(){return n.e(8).then(n.bind(null,"3Z9Z"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["3Z9Z"]},modules:["react-bootstrap/Row"]}}),p=i()((function(){return n.e(0).then(n.bind(null,"JI6e"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["JI6e"]},modules:["react-bootstrap/Col"]}}),O=i()((function(){return n.e(10).then(n.bind(null,"cWnB"))}),{ssr:!1,loadableGenerated:{webpack:function(){return["cWnB"]},modules:["react-bootstrap/Button"]}});function x(e){var t=Object(s.useRouter)(),n=Object(c.useState)({user:{},loggedIn:!1}),a=(n[0],n[1],e.user);return console.log("This is my user:",a),Object(r.jsxs)(p,{className:"col-12 col-md-6 p-4 bg-light border-right border-bottom rounded-left",children:[Object(r.jsx)("h2",{children:"Your Information (UNDER CONSTRUCTION, SORRY)"}),Object(r.jsx)("form",{onSubmit:function(e){},children:Object(r.jsxs)(m,{className:"my-4",children:[Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"fname",children:"First Name:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"text",name:"fname",id:"fname",placeholder:a.fname,minLength:"2",maxLength:"40",autoFocus:!0})}),Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"lname",children:"Last Name:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"text",name:"lname",id:"lname",placeholder:a.lname,minLength:"2",maxLength:"40",className:"w-100"})}),Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"phonein",children:"Phone Number:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"tel",name:"phonein",id:"phonein",placeholder:a.phone,maxLength:"10"})}),Object(r.jsx)(p,{className:"col-12 my-2",children:Object(r.jsx)(O,{type:"submit",disable:!0,children:"Update"})})]})}),Object(r.jsx)("h3",{children:"Delete Your Account"}),Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"This action cannot be undone."})}),Object(r.jsx)("form",{onSubmit:function(e){e.preventDefault();var n=new FormData(e.target);fetch("/api/user/".concat(a.user_id,"/delete"),{method:"POST",body:n}).then((function(e){console.log(e),200===e.status?e.json().then((function(e){alert("".concat(e[0].message,"!")),t.push("/")})):alert("Delete Account Failed. Password incorrect.")}))},children:Object(r.jsxs)(m,{className:"my-4",children:[Object(r.jsx)(p,{className:"col-12 mt-1",children:Object(r.jsx)("label",{htmlFor:"deletepassword",children:"Password:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"password",name:"deletepassword",id:"deletepassword",placeholder:"Your password"})}),Object(r.jsx)(p,{className:"col-12 my-2",children:Object(r.jsx)(O,{type:"submit",disable:!0,children:"Delete My Account"})})]})})]})}function f(e){Object(s.useRouter)();var t=Object(c.useState)({user:{},loggedIn:!1});t[0],t[1],e.user;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(p,{className:"col-12 col-md-6 p-4 bg-light border-bottom",children:[Object(r.jsx)("h2",{children:"Change Password"}),Object(r.jsx)("form",{onSubmit:function(e){},children:Object(r.jsxs)(m,{className:"my-4",children:[Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"currentpassword",children:"Current Password:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"password",name:"currentpassword",id:"currentpassword",placeholder:"Your password"})}),Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"newpassword",children:"New Password:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"password",name:"newpassword",id:"newpassword",placeholder:"New password"})}),Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"})}),Object(r.jsx)(p,{className:"col-12",children:Object(r.jsx)("input",{type:"password",name:"confirmpassword",id:"confirmpassword",placeholder:"Confirm password"})}),Object(r.jsx)(p,{className:"col-12 mt-2",children:Object(r.jsx)(O,{type:"submit",disable:!0,children:"Update"})})]})})]})})}function g(){var e=Object(c.useState)(null),t=e[0],n=e[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("user");e&&n(JSON.parse(e))}),[]),null===t?Object(r.jsxs)("div",{id:"page-container",children:[Object(r.jsx)(a.b,{}),Object(r.jsx)(a.c,{}),Object(r.jsx)(u.a,{right:!0,children:Object(r.jsx)(o.SignInUpContainer,{})}),Object(r.jsx)(a.a,{})]}):Object(r.jsx)("section",{className:j.a["rachel-tile"],children:Object(r.jsx)(u.a,{children:Object(r.jsx)(h,{className:"my-5 py-5 px-5 h-75 w-75",children:Object(r.jsxs)(m,{className:"w-100 h-75 pt-5 px-5 m-5 rounded",children:[Object(r.jsx)(x,{user:t}),Object(r.jsx)(f,{user:t}),Object(r.jsx)(p,{className:"col-12 bg-light border-top rounded-bottom",children:Object(r.jsx)("p",{children:Object(r.jsx)("i",{children:"Your information is stored in a database and will never be shared with third parties."})})})]})})})})}function w(e){return Object(r.jsxs)("div",{id:"page-container",children:[Object(r.jsx)(a.b,{}),Object(r.jsx)(a.c,{}),Object(r.jsx)(g,{}),Object(r.jsx)(a.a,{})]})}},nGCP:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return n("cdae")}])}},[["nGCP",2,1,5,3,4,6]]]);